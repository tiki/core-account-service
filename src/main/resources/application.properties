#
# Copyright (c) TIKI Inc.
# MIT license. See LICENSE file in root directory.
#
spring.profiles.active=local

# 228 = "ACT"
server.port=8228
server.error.whitelabel.enabled=false

# Logging Levels
logging.level.root=ERROR
logging.level.org.springframework=ERROR
logging.level.com.mytiki.account=ERROR

# Spring Jackson
spring.jackson.default-property-inclusion=non_null
spring.jackson.deserialization.fail-on-unknown-properties=false

# Spring Datasource
spring.datasource.type=com.zaxxer.hikari.HikariDataSource

# Spring JPA
spring.jpa.database=POSTGRESQL
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Springdoc
springdoc.api-docs.enabled=false
springdoc.default-produces-media-type=application/json
springdoc.default-consumes-media-type=application/json
springdoc.version=@project.version@

# OAUTH //TODO FIX THESE SCOPES
spring.security.oauth2.resourceserver.jwt.audiences=account.mytiki.com
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://mytiki.com

com.mytiki.account.oauth.scopes.account.aud=account.mytiki.com
com.mytiki.account.oauth.scopes.account.scp=account
com.mytiki.account.oauth.scopes.[account\:internal\:read].aud=account.l0.mytiki.com
com.mytiki.account.oauth.scopes.[account\:internal\:read].scp=internal:read

com.mytiki.account.oauth.scopes.trail.aud=trail.l0.mytiki.com
com.mytiki.account.oauth.scopes.trail.scp=trail

com.mytiki.account.oauth.scopes.ingest.aud=ingest.l0.mytiki.com
com.mytiki.account.oauth.scopes.ingest.scp=ingest

com.mytiki.account.oauth.scopes.catalog.aud=catalog.mytiki.com
com.mytiki.account.oauth.scopes.catalog.scp=catalog

com.mytiki.account.oauth.client_credentials.public.scopes=trail,ingest
com.mytiki.account.oauth.password.anonymous.scopes=
com.mytiki.account.oauth.client_credentials.internal.scopes=account:internal:read
